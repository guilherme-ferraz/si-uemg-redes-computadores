services:
  captive-dns:
    image: andyshinn/dnsmasq:latest
    network_mode: host
    # networks:
    #   pub_net:
    #     ipv4_address: 192.168.0.2

  captive-portal:
    build: ./flask
    container_name: captive-portal
    volumes:
      - ./logs:/var/log/captive
    restart: unless-stopped
    network_mode: host
    # networks:
    #   pub_net:
    #     ipv4_address: 192.168.0.3

# networks:
#   pub_net:
#     driver: macvlan
#     driver_opts:
#       parent: enp3s0   # interface LAN conectada ao roteador
#     ipam:
#       config:
#         - subnet: 192.168.0.0/24
#           gateway: 192.168.0.1
